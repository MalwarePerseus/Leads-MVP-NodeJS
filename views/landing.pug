doctype html
html(lang='en')
  include common/head.pug
  +head("Leads Management | Node & Express")
  body
    header
      include common/navbar.pug
      +navbar()
    div.container
      div.row.align-items-center
        div.col-md-6.order-md-1.text-center.text-md-left.pr-md-5
          h1.mb-3 Minimum Viable Landing Page
          p.lead Built this while Learning NodeJS Web Applications covering all key topics in Express.
          p.lead.mb-4 Learn how to lauch a landing page and start collecting sales Leads.
          form(action="/", method="POST")
            div.input-group.mb-3
              input( name="lead_email" type="email", placeholder="mail@example.com").form-control
            div.input-group-append
              button(type="submit").btn.btn-primary Get Started
      br 
      br
      
      div.row
        div.col-md-6
          if leads
            h1 Leads
            table.table
              thead
                tr
                  th(scope="col") Email
                  th(scope="col") Actions
                  th(scope="col")
                tr
              tbody
                for lead in leads
                  tr(id=lead.id)
                    td
                      span #{lead.email}
                    td
                      a(href="/lead/" + lead.id) Details
                    td
                      button(onclick=`deleteLead('${lead.id}')`).btn.btn-primary Delete
    //- if leads
    //-   h1 Leads
    //-   for lead in leads
    //-     p(id=lead.id) 
    //-       span #{lead.email}
    //-       |
    //-       a(href="/lead/" + lead.id) Details
    //-       |
    //-       button(onclick=`deleteLead('${lead.id}')`) Delete
    //- //- script(src='https://code.jquery.com/jquery-3.2.1.min.js')
    //- script(src='/javascripts/jquery.min.js')
    include common/footer.pug 
    +footer()
    script(src="/javascripts/lead.js")     